# Ansible Lint Configuration
# See https://ansible.readthedocs.io/projects/lint/

# Exclude certain paths
exclude_paths:
  - .git/
  - .github/
  - .cache/
  - roles/*/tests/

# Use default rules with exceptions
skip_list:
  - role-name  # Allow hyphenated role names (keycloak-saml-integration)
  - name[casing]  # Allow lowercase handler names
  - ignore-errors  # Allow ignore_errors in handlers for optional reloads

# Enable progressive mode for stricter checking over time
profile: production

# Set custom rules
rules:
  # Allow both true/false and yes/no
  yaml[truthy]:
    allowed-values: ['true', 'false', 'yes', 'no']

# Variable naming convention
var_naming_pattern: "^[a-z_][a-z0-9_]*$"

# Set warn level for specific rules
warn_list:
  - experimental  # Experimental rules as warnings only
  - ignore-errors  # Warn but don't fail on ignore_errors

# Mock modules and platforms
mock_modules:
  - community.general.keycloak_client
  - community.general.keycloak_group

mock_roles:
  - keycloak-saml-integration

# Enable offline mode (don't check for role updates)
offline: true
