---
# Default variables for nginx reverse proxy setup - Dynamic Backend Support

# Nginx configuration paths
nginx_config_path: /etc/nginx/conf.d
nginx_listen_port: 80
nginx_https_port: 443

# SSL configuration
ssl_cert_dir: /etc/nginx/tls
ssl_cert_file: "{{ ssl_cert_dir }}/site.crt"
ssl_key_file: "{{ ssl_cert_dir }}/site.key"
ssl_dhparam_file: "{{ ssl_cert_dir }}/dhparam.pem"

# Logging
nginx_access_log: /var/log/nginx/access.log
nginx_error_log: /var/log/nginx/error.log

# Connection settings
nginx_keepalive_connections: 32
nginx_client_max_body_size: 10m
nginx_client_body_buffer_size: 128k
nginx_proxy_connect_timeout: 90
nginx_proxy_send_timeout: 90
nginx_proxy_read_timeout: 90

# Service configuration
nginx_service_enabled: yes
nginx_service_state: started

# Jenkins-specific configuration
jenkins_home: /var/lib/jenkins
jenkins_war_root: /var/run/jenkins/war

# Default site_backends (will be overridden by group_vars/all.yml)
site_backends:
  - server_name: "jenkins.example.com"
    ip: "192.168.201.14"
    port: "8080"
  - server_name: "sonar.example.com"
    ip: "192.168.201.16"
    port: "9000"
