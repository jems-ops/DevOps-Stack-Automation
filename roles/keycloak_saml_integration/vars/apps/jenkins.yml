---
# Jenkins-specific SAML Integration Configuration

# Application Configuration
app_config:
  home: "/var/lib/jenkins"
  config_file: "config.xml"
  service_name: "jenkins"
  user: "jenkins"
  group: "jenkins"
  saml_callback_url: "/securityRealm/finishLogin"

# SAML Plugin Configuration
saml_plugin:
  version: "4.429.v9a_781a_61f1da_"
  class: "org.jenkinsci.plugins.saml.SamlSecurityRealm"

# SAML Attribute Mapping
saml_attributes:
  username: "username"
  email: "email"
  full_name: "displayName"
  groups: "groups"

# Protocol Mappers
protocol_mappers:
  - name: "username"
    protocol: "saml"
    protocol_mapper: "saml-user-property-mapper"
    config:
      "attribute.name": "username"
      "attribute.nameformat": "Basic"
      "user.attribute": "username"

  - name: "email"
    protocol: "saml"
    protocol_mapper: "saml-user-property-mapper"
    config:
      "attribute.name": "email"
      "attribute.nameformat": "Basic"
      "user.attribute": "email"

  - name: "name"
    protocol: "saml"
    protocol_mapper: "saml-user-property-mapper"
    config:
      "attribute.name": "name"
      "attribute.nameformat": "Basic"
      "user.attribute": "firstName"

  - name: "groups"
    protocol: "saml"
    protocol_mapper: "saml-group-membership-mapper"
    config:
      "attribute.name": "groups"
      "attribute.nameformat": "Basic"
      "single": "false"
      "full.path": "false"

# Groups Configuration
app_groups:
  admins:
    name: "jenkins-admins"
    description: "Jenkins Administrators"
  users:
    name: "jenkins-users"
    description: "Jenkins Users"

# Test User Configuration
test_user:
  enabled: true
  username: "jenkins-demo"
  email: "jenkins-demo@example.com"
  first_name: "Demo"
  last_name: "User"
  password: "demo123!"
  groups:
    - "jenkins-users"
    - "jenkins-admins"

# SAML Security Settings
saml_security:
  maximum_authentication_lifetime: 7776000  # 90 days
  force_authentication: false
  sp_entity_id: "jenkins"
